#include <bits/stdc++.h>
#include <numeric> // gcd, lcm
using namespace std;

// Type aliases
using ll = long long;
using vi = vector<int>;
using vvi = vector<vector<int>>;
using pii = pair<int, int>;
using si = set<int>;
using mi = map<int, int>;

void fastIO() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
}

// ðŸ”¹ Sieve of Eratosthenes (Prime generation)
vector<int> sieve(int n) {
    vector<int> primes;
    vector<bool> isPrime(n+1, true);
    isPrime[0] = isPrime[1] = false;
    for (int i = 2; i*i <= n; i++) {
        if (isPrime[i]) {
            for (int j = i*i; j <= n; j += i) {
                isPrime[j] = false;
            }
        }
    }
    for (int i = 2; i <= n; i++) {
        if (isPrime[i]) primes.push_back(i);
    }
    return primes;
}

// ðŸ”¹ Sliding Window Example: Longest Substring Without Repeating Characters
int lengthOfLongestSubstring(string s) {
    int i = 0, j = 0, ans = 0;
    int n = s.size();
    map<char, int> mp;

    while (j < n) {
        mp[s[j]]++;
        while (mp[s[j]] > 1) { // shrink window if duplicate
            mp[s[i]]--;
            i++;
        }
        ans = max(ans, j - i + 1);
        j++;
    }
    return ans;
}

int main() {
    fastIO();

    // ðŸ”¹ Array / Vector (1D)
    int n;
    cin >> n;
    vector<int> arr(n);
    for (int i = 0; i < n; ++i) cin >> arr[i];
    for (int x : arr) cout << x << ' ';
    cout << "\n";

    // Delete specific value from vector
    vector<int> v = {1, 2, 3, 4};
    v.erase(remove(v.begin(), v.end(), 3), v.end()); // removes all 3s

    // ðŸ”¹ Binary Search + Bounds
    int x;
    cin >> x;
    if (binary_search(arr.begin(), arr.end(), x))
        cout << x << " is found\n";
    else
        cout << x << " is NOT found\n";

    int lb = lower_bound(arr.begin(), arr.end(), x) - arr.begin();
    cout << "Lower bound index: " << lb << '\n';

    int ub = upper_bound(arr.begin(), arr.end(), x) - arr.begin();
    cout << "Upper bound index: " << ub << '\n';

    // ðŸ”¹ Bitwise Shift
    int num = 5; // 0101 in binary
    cout << "Left shift (num << 1): " << (num << 1) << '\n'; // multiply by 2
    cout << "Right shift (num >> 1): " << (num >> 1) << '\n'; // divide by 2

    // ðŸ”¹ GCD / LCM (Modern C++17+)
    int a = 12, b = 18;
    cout << "GCD: " << gcd(a, b) << '\n';
    cout << "LCM: " << lcm(a, b) << '\n';

    // ðŸ”¹ Graph Input (Adjacency List)
    int nodes, edges;
    cin >> nodes >> edges;
    vector<vector<int>> adj(nodes + 1);
    for (int i = 0; i < edges; ++i) {
        int u, v;
        cin >> u >> v;
        adj[u].push_back(v);
        adj[v].push_back(u); // Undirected
    }

    // BFS
    vector<bool> visited(nodes + 1, false);
    queue<int> bfs_q;
    bfs_q.push(1);
    visited[1] = true;
    cout << "BFS: ";
    while (!bfs_q.empty()) {
        int curr = bfs_q.front();
        bfs_q.pop();
        cout << curr << ' ';
        for (int neighbor : adj[curr]) {
            if (!visited[neighbor]) {
                visited[neighbor] = true;
                bfs_q.push(neighbor);
            }
        }
    }
    cout << '\n';

    // DFS
    visited.assign(nodes + 1, false);
    function<void(int)> dfs = [&](int node) {
        visited[node] = true;
        cout << node << ' ';
        for (int neighbor : adj[node]) {
            if (!visited[neighbor]) dfs(neighbor);
        }
    };
    cout << "DFS: ";
    dfs(1);
    cout << '\n';

    // ðŸ”¹ Map: Frequency Count
    map<int, int> freq;
    for (int x : arr) freq[x]++;
    for (auto [key, val] : freq)
        cout << "Value " << key << " appears " << val << " times\n";

    // ðŸ”¹ Pair
    pair<int, int> p = {10, 20};
    cout << "Pair: " << p.first << ", " << p.second << '\n';

    // Store pairs in vector
    vector<pair<int,int>> vp;
    vp.push_back({1, 2});
    vp.push_back({3, 4});

    // ðŸ”¹ Queue
    queue<int> q;
    for (int x : arr) q.push(x);
    cout << "Queue front: " << q.front() << '\n';
    q.pop();
    cout << "After pop, front: " << q.front() << '\n';
    ex:
    q.push(10);
    q.push(20);
    q.push(30);
    front 10,back 30
    // ðŸ”¹ Set
    set<int> s;
    for (int x : arr) s.insert(x);
    cout << "Unique values: ";
    for (int x : s) cout << x << ' ';
    cout << '\n';

    // Store set inside vector
    vector<set<int>> vs;
    vs.push_back({1, 2, 3});
    vs.push_back({4, 5});

    // ðŸ”¹ Stack
    stack<int> st;
    st.push(10);
    st.push(20);
    st.push(30);
    cout << "Stack top: " << st.top() << '\n';
    st.pop();
    cout << "After pop, top: " << st.top() << '\n';

    // ðŸ”¹ Vector (2D)
    int rows, cols;
    cin >> rows >> cols;
    vector<vector<int>> grid(rows, vector<int>(cols));
    for (int i = 0; i < rows; ++i)
        for (int j = 0; j < cols; ++j)
            cin >> grid[i][j];
    for (const auto& row : grid) {
        for (int val : row) cout << val << ' ';
        cout << '\n';
    }

    // ðŸ”¹ Sieve usage example
    int limit;
    cin >> limit;
    vector<int> primes = sieve(limit);
    cout << "Primes up to " << limit << ": ";
    for (int p : primes) cout << p << ' ';
    cout << '\n';

    // ðŸ”¹ Sliding Window usage example
    string s_input;
    cin >> s_input;
    cout << "Longest substring without repeating chars: "
         << lengthOfLongestSubstring(s_input) << '\n';

    return 0;
}
